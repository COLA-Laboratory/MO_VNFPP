% ~ 2 pages
% !TeX root = ./main.tex
\section{Introduction}
\label{sec:introduction}

\IEEEPARstart{R}{ecent} research indicate that data centers will be responsible for 3\% to 5\% of total energy consumption worldwide by 2030~\cite{AndraeE15}. With the pressing need to address climate change, there are environmental as well as business imperatives to improve the efficiency of data centers wherever possible. Over the past decade, data centers have become significantly more energy efficient by reducing overhead~\cite{AvgerinouBC17} such as heat management and energy provisioning. Despite these efforts, the total energy consumed by data centers still doubled between 2010 and 2020~\cite{DoddAGC20} due to increased demand, and there are diminishing returns to reducing overhead further. A recent study showed that future efficiency improvements can be made by using fewer network components and better operational policies~\cite{DoddAGC20}. One route to achieve this is through virtualization, i.e., the emulation of hardware with software. Physical computing devices can be virtualized into virtual machines (VMs), and several VMs can be executed on a single physical device. By placing applications on VMs and packing multiple VMs onto the same server, we can maximize the utilization of hardware and consume less energy to provide the same quality of service (QoS). In addition, VMs can be moved and scaled to meet traffic demands without over or under allocating resources. A recent study found that simply utilizing servers more effectively with virtualization would result in a 10\% reduction in data center energy consumption in the USA~\cite{ShehabiARSSD16}. This reduction increases to 40\% if the majority of service providers move to \lq hyper-scaled\rq\ data centers which have more powerful servers with a larger capacity.

Historically, virtualization was applied to general purpose servers that contribute some of the computing power required to provide services. More recently, purpose built network functions have also been considered as targets for virtualization. A network function is a network component that performs a specific task such as load balancing or packet inspection. Services, such as phone call handling or video streaming, usually direct traffic through several network functions in a prescribed order. Traditionally, these functions were provided by \lq middleboxes\rq\ through purpose-built hardware. However, middleboxes cannot be scaled or moved like VMs thus limiting the flexibility of the data center. Virtual network functions (VNFs) provide the same functionality as middleboxes but with software running on VMs. Although each VNF instance may perform relatively worse than its equivalent middlebox, the added flexibility can improve the overall performance and reduce costs.

In a nutshell, a VNF placement problem (VNFPP) aims to find the optimal number and placement of VNFs in order to optimize the QoS (e.g., minimizing the expected latency and packet loss) of each service, balanced against the energy consumption of the data center. A VNFPP instance defines a set of services and a data center topology. Each service is defined by its packet arrival rate and a service chain, i.e., the sequence in which VNFs must be visited. A solution to the VNFPP defines where to place VNFs for each service and how packets should traverse the data center. The VNFPP has been widely recognized as a challenging combinatorial optimization problem given its NP-hardness~\cite{LuizelliCBG17,SangJGDY17,CohenLNR15}, multiple conflicting objectives and a proportionally small feasible solution space. Whilst some of these challenges can be addressed with existing techniques, three key challenges remain for the VNFPP.

\begin{itemize}
    \item The first one lies in the QoS evaluation itself. There exist some tools, such as discrete event simulators, that can provide accurate measurements of QoS. However, they are too time consuming to be incorporated into an optimization routine. In contrast, some heuristics, such as the number of applied VNF instances~\cite{LuizelliCBG17,AddisBBS15} and the average utilization of servers~\cite{JemaaPP16,GaoABS18}, have been proposed as efficient surrogates for QoS. However, there is no established evidence to support the equivalence of using such heuristics versus accurate measurements of the QoS. Queueing theory has been widely recognized as a powerful tool to produce fast and accurate models of QoS for various networking problems~\cite{LakshmiI2013,PapadopoulosC96}. Although there have been some attempts to use queuing theory in the context of VNFPP~\cite{OljiraGTB17,MarottaZDK17,LeivadeasFLIK18,BillingsleyLMMG19}, packet loss and its consequences have been ignored, limiting the accuracy of existing models.
    \item Second, the curse-of-dimensionality has been proven to be the Achilles' heel of existing methods when solving VNFPPs. For example, linear programming, one of the most popular methods in the literature, is only useful for problems with tens or hundreds of servers~\cite{BariCAB15,KawashimaOOM16,AllegKMA17}. Meta-heuristic methods have recently shown some encouraging results on larger-scale VNFPP with up to $1,000$ servers~\cite{LuizelliCBG17}. However, none of them are close to industrial-scale scenarios.
    \item Last but not the least, a VNFPP usually has complex constraints that can confound optimization. For example, there are routing constraints that require the solution to visit VNFs in a prescribed order. Additional constraints arise in practice that limit the number of instances of each VNF or where they can be placed. These constraints significantly squeeze the feasible search space thus hindering an effective search.
\end{itemize}

Evolutionary algorithms (EAs) have been well recognized for solving challenging multi-objective optimization problems (MOPs) \cite{WangJ20,ZhouL17,WangWZ19,LiuLJ14}. However, few works have considered their application to the VNFPP~\cite{CaoZACHS16,RankothgeLRL17,LangeGZTJ17}. In this work, we provide a domain-specific evolutionary optimization framework to address the above longstanding problems. \textcolor{red}{Our major contributions are as follows.
\begin{itemize}
    \item By using queueing theory, we developed an analytical model that provides an efficient and accurate way to evaluate the QoS with regard to the expected latency, the packet loss of each service and the overall energy consumption of the underlying data center, all of which constitute the three-objective VNFPP in this paper.
    \item We developed a problem-specific solution representation for the VNFPP along with a tailored initialization operator that together promote a fast convergence and a feasibility guarantee. Both operations can be seamlessly incorporated into any evolutionary multi-objective optimization (EMO) algorithm.
    \item We validate the effectiveness and accuracy of the proposed algorithm under various settings. In particular, we consider problems with up to $8,192$ servers, which is $8$ times larger than all reported results. The performance of our tailored EMO algorithms are compared against their generic counterparts as well as state-of-the-art heuristics.
\end{itemize}
}

In the remainder of this paper, \pref{sec:lit_review} provides a pragmatic overview of some selected developments on VNFPP. \pref{sec:problem_formulation} gives our VNFPP definition followed by a rigorous derivation of our analytical model in~\pref{sec:system_model}. \pref{sec:optimisation} develops the problem-specific solution representation and a tailored initialization operator along with their incorporation with EMO algorithms. The effectiveness of our proposed analytical model along with the tailored EMO algorithms are validated in~\pref{sec:experiments}. Finally, \pref{sec:conclusion} concludes this paper and sheds some lights on future directions.
