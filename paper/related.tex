% !TeX root = ./main.tex

\section{Related Works}
\label{sec:lit_review}

% Purpose of this section is to make it clear that existing research isn't addressing 3 problems:
% - Complex constraints
% - Accurate modelling
% - Scale
%
% Linear Programming does 1 and 2
% Heuristics do 3
% Meta-heuristics can do all of them but don't

This section provides a pragmatic overview of some selected developments in VNFPP according to the type of its solver, i.e., \textit{exact}, \textit{heuristic} and \textit{meta-heuristic} methods.

%A common theme are the goals of improving the quality of service (QoS) and/or minimizing the energy consumption of the data center. These objectives are usually calculated using one of two types of model:
%\begin{itemize}
%    \item \textbf{Accurate models}. One option is to use techniques from discrete event simulation, queuing theory or machine learning to build a model that can provide accurate estimates of the problem objectives.
%    \item \textbf{Surrogate models}. In some cases, an accurate model is not appropriate and the author instead optimizes for a surrogate model with the expectation this will minimize the problem objectives. For example, several works aim to minimize the path length with the expectation that minimizing this objective will minimize the latency.
%\end{itemize}
%
%Solutions to the VNFPP differ widely in the approach they use to solving the problem. Broadly, existing VNFPP solutions can be categorized into \textit{exact}, \textit{heuristic} and \textit{meta-heuristic} methods.
%In particular, the current literature can be categorized based on the principle technique used i.e., \textit{exact}, \textit{heuristic} and \textit{meta-heuristic} methods. %Exact methods are techniques that are guaranteed to find an optimal solution and include mathematical and dynamic programming algorithms. These algorithms have an exponential worst case time complexity for NP-Hard problems such as the VNFPP~\cite{Landa-Silva13}. Heuristic methods contains all algorithms that find approximate solutions to a problem. Meta-heuristics are a subset of heuristic methods, that specifically use a measure of the quality of a solution to guide the search for better solutions.

\subsection{Exact Methods}
\label{sec:exact}

Exact methods are designed to produce solutions with theoretical optimality guarantees. They have an exponential worst-case time complexity~\cite{Landa-Silva13}, thus are usually limited to small-scale VNFPPs. Furthermore, exact methods typically require linear objective functions which contradicts the nonlinear nature of QoS. To resolve this issue, some researchers use a simplified model of latency where the waiting time at a switch is constant whereas in practice the waiting time depends on the switch's utilization \cite{IntelDPDK,IntelPPP,OljiraGTB17}. Bari et al.~\cite{BariCAB15} proposed to use dynamic programming to minimize a linear model of the operational cost under a latency constraint. Likewise, \cite{MiottoLCG19}, Miotto et al. developed a NFV optimization framework that applies linear programming to minimizing both the number of VNF instances and the length of routes also under a latency constraint.

An alternative option is to use piece-wise linearization to linearize accurate models of QoS. In an early work on VNFPP, Baumgartner et al.~\cite{BaumgartnerRB15} proposed to minimize the total cost of bandwidth and VNF placement while meeting latency constraints for each service. After performing piece-wise linearization, they applied linear programming to this problem. Oljira et al.~\cite{OljiraGTB17} used the same technique as in~\cite{BaumgartnerRB15} for modeling and optimization and additionally considered the virtualization overheads when calculating the latency at each VNF. In~\cite{AddisBBS15}, Addis et al. proposed two different models for VNFPP. One models the waiting time as a convex piece-wise linear function of the sum of arrival rates while the other sets the latency as a constant when it is below a threshold. Later, Gao et al.~\cite{GaoABS18} extended this work and proposed additional constraints for affinity and anti-affinity rules that require solutions to place certain VNFs on the same server or apart respectively. In~\cite{JemaaPP16}, Jemaa et al. proposed a VNFPP formulation where VNFs can only be placed either in a resource constrained cloudlet data center near the user or an unconstrained cloud data center. They use exact methods to optimize latency, cloudlet and cloud utilization simultaneously.

\subsection{Heuristic Methods}
\label{sec:heuristics}

In contrast to exact methods, heuristic methods attempt to find approximate solutions and usually use surrogate models as alternative measures of the QoS. One common surrogate model is to use the available link or server capacity as a proxy for the latency and energy consumption. Guo et al.~\cite{GuoWLQA0Y20} formulated a VNFPP that aims to minimize the link and server capacity of a solution and allow VNFs to be shared across services. They first pre-processed the network topology to find the most influential nodes according to the Katz centrality \cite{Katz53}. Then, VNFs are placed according to a Markov decision process with lower costs for reusing VNFs. To promote VNF reuse, only shareable VNFs can be placed on the most influential nodes. Likewise, Qi et al.~\cite{QiSW19} formulated a similar problem where the total links and server usage must be minimized. They used a greedy search to exploit the neighborhood of each server. Based on the same assumption, Qu et al.~\cite{QuASK17} proposed to place VNFs on the shortest path between the starting and ending servers. If the path cannot accommodate all VNFs, servers close to the path will then be considered.

%  Used model, constant
Another surrogate model assumes that the waiting time when a packet visits a component is constant and the relevant algorithms are typically designed to minimize the network latency, i.e., the sum of waiting time incurred for a packet when traveling VNFs. For example, Hawilo et al.~\cite{HawiloJS19} proposed a heuristic that places the most commonly used VNFs on the central nodes determined by the betweeness centrality. This increases the likelihood that a short route can be constructed for each service. In~\cite{VizarretaCMMK17}, Vizarreta et al. proposed to set the waiting time as a constant while keeping the starting and ending nodes fixed. In particular, they first find the route that has the lowest cost and satisfies the latency and robustness constraints. Then, the route is adjusted until it can accommodate each VNF of the service. Beck et al. \cite{BeckB15} used a similar surrogate model to optimize the average path length and bandwidth usage. The heuristic searches the servers up to a small number of hops away and places the next VNF of each service on the nearest server that can accommodate it. If no such server is available, the earlier VNFs of the service are removed.

% Post-Optimisation analysis
Some researchers proposed to first use heuristics to place VNFs and then use accurate models to evaluate the solutions. Although this provides additional information to the decision makers, it does not improve the quality of solutions. For example, Zhang et al. \cite{ZhangXLLGW17} proposed a best fit decreasing method to place VNFs and used a simple queueing model to evaluate the solution. In~\cite{ChuaWZSH16}, Chua et al. proposed a heuristic that iterates over the servers and places each VNF of each service at the first server with a sufficient capacity. In order to evenly distribute traffic, the available capacity for each server is limited. If every server has been considered before placing all VNFs, the heuristic increases the available capacity and reiterates the servers. Gouareb et al.~\cite{GouarebFA18} proposed a three-part heuristic that first assigns VNFs with the greatest resource demands to the servers with the largest capacity. Then, it uses either horizontal or vertical scaling to satisfy demand before finding the shortest routes between VNFs to form services. The heuristic was found to produce solutions an order of magnitude worse than an exact solver that uses an accurate model.

% Mixed heuristic + exact
There also exist some attempts that try to bridge the gap between heuristics and exact methods. For example, Marotta et al.~\cite{MarottaZDK17} proposed to combine heuristics and linear programming. They apply a heuristic to place VNFs and make these placements robust to changes in the required resources for each VNF. Thereafter, linear programming is applied to find routes between VNFs while ensuring the satisfaction of latency constraints for each service. However, since the network is not considered until the final step, it is not guaranteed to find a solution. Agarwal et al.~\cite{AgarwalMCD18} use linear programming to assign a confidence score for whether a VNF should be assigned to a server. Then they use a greedy heuristic that considers the confidence score and the available capacity of the server to find VNF placements.

\subsection{Meta-heuristic Methods}
\label{sec:meta-heuristics}

As a subset of heuristic methods, meta-heuristic methods have been widely used for NP-hard problems~\cite{XueZB13,MavrovouniotisM17,YuanBTZLL17,ChenZLGGZYCLZ19,YoonK13} including other real world problems with high numbers of variables \cite{JiaMZ21,PengJW19,ChengJ15}. Yet, few studies can be found for VNFPPs. In~\cite{RankothgeMLRL15}, Rankothge et al. proposed a genetic algorithm (GA) to optimize VNF placement and routing by minimizing the number of servers and switches. In~\cite{CaoZACHS16}, Cao et al. used GA to minimize the bandwidth consumption and maximize the link utilization with a binary matrix solution representation for VNF placement and routing decisions. In~\cite{ChantreF20} and~\cite{KaurGK020}, a similar binary string representation is applied in multi-objective GAs. Specifically, \cite{ChantreF20} applied NSGA-II \cite{DebAPM02} to place primary and backup VNFs in small data centers while~\cite{KaurGK020} explored the effectiveness of different multi-objective GAs on a variety of QoS indicators. In~\cite{LangeGZTJ17}, a Pareto simulated annealing method is applied to find a set of trade-off solutions that optimize several indicators including a linear model of the expected latency, the number of hops, the number of VNF instances and the CPU utilization. Soualah et al.~\cite{SoualahMGZ17} proposed to use a Monte Carlo tree search to place VNFs and find routes between them so as to minimize the expected server utilization.

To the best of our knowledge, our previous work~\cite{BillingsleyLMMG19} is the only one that combines meta-heuristics with a queueing model for VNFPP. We used a simple solution representation where each solution is represented as a string of VNFs and proposed custom mutation and initialization operators to improve the chances of placing at least one instance of each VNF. It also used a simple queuing model that calculates the latency and energy consumption but does not consider packet loss. In our current work, we propose a more advanced solution representation that allows for more diverse solutions without requiring custom genetic operators. Further, we show that this new representation is simple to extend to complex constraints. Finally, we improve upon the model to consider packet loss and show how this significantly affects the quality of solutions.